{% extends 'blogapp/layouts/main.html' %}
{% block title  %}    
<title>Blogs</title>
{% endblock title  %}

{% block content  %}
<div class="container mt-5 mb-3"> 
  <div class="row" style="margin-top: 5%;">
    <b> Blogs found :  {{ count }}  </b>
  </div>
    <div class="row">
        {% for post in posts %}
        <div class="col-lg-4 my-4">
            <div class="card shadow" style="width: 20rem; height: 33rem;">
                <img src="/media/{{post.cover_image}}" class="card-img-top" alt="..." height="250px">
                <div class="card-body">
                  <h4 class="card-title"> <b>{{post.title}} </b>
                    <small>by {{post.created_by}}</small>
                  </h4>
                  <p class="card-text">{{post.description | truncatechars:200}}</p>
                  <a href="blog/{{post.slug}}" class="btn btn-primary"> Read More
                </a>
                </div>
              </div>
        </div>
        {% endfor %}
    </div>
    
<nav class="mt-4" aria-label="Page navigation sample" style="margin-bottom: 10%" >
  {% if posts.has_other_pages %}
<ul class="pagination">
  {% if posts.has_previous %}
      <li class="page-item "><a class="page-link" href="?page={{posts.previous_page_number}}">Previous</a></li>
  {% else %}
      <li class="page-item disabled"><a class="page-link" href="#">Previous</a></li>
  {% endif %}
  {% for i in posts.paginator.page_range %}
      {% if posts.number == i %}
          <li class="page-item disabled"><a class="page-link "  href="#">{{i}}</a></li>
      {% else %}
          <li class="page-item"><a class="page-link" href="?page={{i}}">{{i}}</a></li>
      {% endif %}
  {% endfor %}
  {% if posts.has_next %}
      <li class="page-item"><a class="page-link" href="?page={{posts.next_page_number}}">Next</a></li>
  {% else %}
      <li class="page-item disabled"><a class="page-link" href="#">Next</a></li>
  {% endif %}
</ul>
{% endif %}
</nav>
</div>


{% endblock content  %}
    